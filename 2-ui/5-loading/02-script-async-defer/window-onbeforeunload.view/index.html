<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
</head>
<body>
  <script>
    function setHandler() {
      window.onbeforeunload = function() {
        return "Есть несохранённые изменения. Уйти сейчас?";
      };
    }
  </script>

  <button onclick="setHandler()">Установить window.onbeforeunload</button>

  <a href="http://example.com">Перейти на EXAMPLE.COM</a>
</body>
</html>
