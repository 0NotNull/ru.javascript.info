# Начало строки ^ и конец $

У символов каретки `pattern:'^'` и доллара `pattern:'$'` есть специальные значения в регулярных выражениях (regexp – англ.). Они называются "якоря" (anchors  – англ.).


Каретка `pattern:^` означает совпадение с началом текста, а доллар `pattern:$` - с концом.

К примеру, давайте проверим начинается ли текст с `Mary`:

```js run
let str1 = "Mary had a little lamb, it's fleece was white as snow";
let str2 = "Everywhere Mary went, the lamp was sure to go";

alert(/^Mary/.test(str1)); // true
alert(/^Mary/.test(str2)); // false
```

Шаблон (pattern  – англ.) `pattern:^Mary` означает: "строка начинается, затем идет Mary".

Теперь, давайте проверим заканчивается ли текст email-ом.

Чтобы найти email, мы используем регулярное выражение `pattern:[-.\w]+@([\w-]+\.)+[\w-]{2,20}`.

Чтобы проверить заканчивается ли строка email-ом, давайте добавим `pattern:$` в наш шаблон.

```js run
let reg = /[-.\w]+@([\w-]+\.)+[\w-]{2,20}$/g;

let str1 = "My email is mail@site.com";
let str2 = "Everywhere Mary went, the lamp was sure to go";

alert(reg.test(str1)); // true
alert(reg.test(str2)); // false
```

Мы можем использовать оба якоря вместе, чтобы проверить совпадает ли строка полностью с шаблоном. Это обычно используется для валидации.

К примеру, мы хотим проверить что `str` это цвет в виде `#` и 6 цифр в шестнадцатеричной системе. Шаблоном для такой записи цвета будет `pattern:#[0-9a-f]{6}`

Чтобы проверить, что _вся строка_ точно подходит, мы добавим `pattern:^...$`:


```js run
let str = "#abcdef";

alert(/^#[0-9a-f]{6}$/i.test(str)); // true
```

Движок регулярных выражений будет искать начало текста, потом цвет, и затем сразу конец текста. То что нам и нужно.

```smart header="У якорей нулевая длина"
Якоря, так же как и `\b` - проверки. У них нулевая ширина.

Другими словами, они не совпадают с символами, но заставляют движок регулярных выражений проверять условия (начало/конец текста).
```

Поведения якорей меняется если присутствует флаг `pattern:m` (многострочный режим). Мы узнаем об этом больше в следующей главе.

<!--

Начало строки ^ и конец $
Знак каретки '^' и доллара '$' имеют в регулярном выражении особый смысл. Их называют «якорями» (anchor – англ.).

Каретка ^ совпадает в начале текста, а доллар $ – в конце.

Якоря являются не символами, а проверками.

До этого мы говорили о регулярных выражениях, которые ищут один или несколько символов. Если совпадение есть – эти символы включаются в результат.

А якоря – не такие. Когда поиск ходит до якоря – он проверяет, есть ли соответствие, если есть – продолжает идти по шаблону, не прибавляя ничего к результату.

Каретку ^ обычно используют, чтобы указать, что регулярное выражение необходимо проверить именно с начала текста.

Например, без каретки найдёт все числа:

 var str = '100500 попугаев съели 500100 бананов!';
alert( str.match(/\d+/ig) ); // 100500, 500100 (нашло все числа)
А с кареткой – только первое:



var str = '100500 попугаев съели 500100 бананов!';
alert( str.match(/^\d+/ig) ); // 100500 (только в начале строки)
Знак доллара $ используют, чтобы указать, что паттерн должен заканчиваться в конце текста.

Аналогичный пример с долларом для поиска числа в конце:

 var str = '100500 попугаев съели 500100';
alert( str.match(/\d+$/ig) ); // 500100
Оба якоря используют одновременно, если требуется, чтобы шаблон охватывал текст с начала и до конца. Обычно это требуется при валидации.

Например, мы хотим проверить, что в переменной num хранится именно десятичная дробь.

Ей соответствует регэксп \d+\.\d+. Но простой поиск найдёт дробь в любом тексте:

 var num = "ля-ля 12.34";
alert( num.match(/\d+\.\d+/ig) ); // 12.34
Наша же задача – проверить, что num целиком соответствует паттерну \d+\.\d+.

Для этого обернём шаблон в якоря ^...$:

 var num = "ля-ля 12.34";
alert( num.match(/^\d+\.\d+$/ig) ); // null, не дробь

var num = "12.34";
alert( num.match(/^\d+\.\d+$/ig) ); // 12.34, дробь!
Теперь поиск ищет начало текста, за которым идёт число, затем точка, ещё число и конец текста. Это как раз то, что нужно.

Задачи
Регэксп ^$
Предложите строку, которая подойдёт под регулярное выражение ^$.

решение
Проверьте MAC-адрес
MAC-адрес сетевого интерфейса состоит из шести двузначных шестнадцатеричных чисел, разделённых двоеточием.

Например: '01:32:54:67:89:AB'.

Напишите регулярное выражение, которое по строке проверяет, является ли она корректным MAC-адресом.

Использование:

var re = ваш регэксп

alert( re.test('01:32:54:67:89:AB') ); // true

alert( re.test('0132546789AB') ); // false (нет двоеточий)

alert( re.test('01:32:54:67:89') ); // false (5 чисел, а не 6)

alert( re.test('01:32:54:67:89:ZZ') ) // false (ZZ в конце)
решение
--->
